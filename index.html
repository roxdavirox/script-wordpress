<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script type="text/javascript">
  !function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){function n(){let e=function(){var e=document.getElementById("quantity-select").value,t=document.getElementsByClassName("product_title entry-title elementor-heading-title elementor-size-default")[0].innerText,n=document.getElementById("size-select");if(n)var o=JSON.parse(n.children[n.selectedIndex].getAttribute("_size"));for(var r=document.getElementsByClassName("item-select"),l=[],a=0;a<r.length;a++)l.push(r[a].children[r[a].selectedIndex].id);var u={name:document.getElementById("name").value,email:document.getElementById("email").value,phone:document.getElementById("phone").value};return console.log("quantity",e),console.log("size",o),console.log("itemsId",l),{quantity:e,size:o,itemsId:l,person:u,productName:t}}();axios({method:"POST",url:"https://mktp.herokuapp.com/form/quote",data:e}).then(e=>(console.log(e),e)).then(e=>{var t=e.data.price;f.totalPrice=t,f.unitPrice=e.data.unitPrice;var n=parseFloat(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),o=parseFloat(f.unitPrice).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});document.getElementsByClassName("woocommerce-Price-amount amount")[0].innerText=`${n} (${o}/unit)`})}function o(e,t){var n=e+"="+escape(t);document.cookie=n}function r(e){var t=document.cookie,n=e+"=",o=t.indexOf("; "+n);if(-1==o){if(0!=(o=t.indexOf(n)))return null}else o+=2;var r=t.indexOf(";",o);return-1==r&&(r=t.length),unescape(t.substring(o+n.length,r))}function l(e,t){for(var n=e,o=t,r="",l=0,a=0;a<n.length;l++)" "==o.charAt(l)?r+=" ":"-"==t.charAt(l)?r+="-":"("==t.charAt(l)?r+="(":")"==t.charAt(l)?r+=")":(r+=n.charAt(a),a++);return r}function a(){document.getElementsByClassName("woocommerce-Price-amount amount")[0].innerText="R$ 0,00"}function u(){f={formVisible:!1};for(var e=document.getElementsByClassName("orcamento-inputs"),t=0;t<e.length;t++)e[t].style.display="none"}function c(e){e.preventDefault(),f.formVisible||(a(),n())}function i(){return function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(document.getElementById("email").value)}function m(e){document.getElementById(e).style.display="contents",setTimeout(()=>{!function(e){document.getElementById(e).style.display="none"}(e)},3e3)}function s(e){var t=e;return(t=(t=(t=(t=t.replace("(","")).replace(")","")).replace("-","")).replace(" ","")).length?t:""}function d(){var e=r("formCookie");e&&"true"===e&&(console.log("formcookie",e),u(),function(){var e=r("user-name");if(e){var t=r("user-phone");if(t){var n=r("user-email");n?(document.getElementById("name").value=e,document.getElementById("phone").value=t,document.getElementById("email").value=n,console.log("dados do usuario carregados")):console.log("user email not found")}else console.log("user phone not found")}else console.log("user name not found")}());var t=document.getElementById("phone");t.onkeypress=function(e){var n;if(!(((n=s(e.target.value))+e.key).length>15)){console.log("targetvalue",e.target.value),console.log("v",n);var o=n.length>=10?"(##) #####-####":"(##) ####-####";console.log("mask",o),t.value=l(n,o)}},t.onkeyup=function(e){var n;console.log("onkeyup",e.key),n=s(e.target.value),console.log("targetvalue",e.target.value),console.log("v",n),n.length<=10&&(console.log("v length",n.length),t.value=l(n,"(##) ####-####"))};var d=document.getElementById("ver-preco-button");d&&(d.onclick=function(e){e.preventDefault();var t=!1;i()||(console.log("email invalido"),m("email-error"),t=!0),document.getElementById("name").value.length>1||(console.log("nome invalido"),m("name-error"),t=!0),document.getElementById("phone").value.length>=10||(console.log("telefone invalido"),m("phone-error"),error=!0),t||(u(),function(){var e=document.getElementById("name").value,t=document.getElementById("phone").value,n=document.getElementById("email").value;o("user-name",e),o("user-phone",t),o("user-email",n),o("formCookie",!0)}(),n(),window.scrollTo(0,0),console.log("atualizar preÃ§o"))});var g=document.getElementById("quantity-select");if(g){let e=function(e,t){let n;return function(){clearTimeout(n),n=setTimeout(e,t)}}(()=>{f.formVisible||(a(),n())},450);g.onchange=e}var v=document.getElementById("size-select");v&&(v.onchange=c);var p=document.getElementsByClassName("item-select");if(p)for(var y=0;y<p.length;y++)p[y].onchange=c}function g(e){return document.getElementById("form-container").innerHTML=e.html,e}var f={formVisible:!0,unitPrice:0,totalPrice:0};!function(){let e=JSON.parse(document.getElementsByClassName("sku")[0].innerText),{productId:t,...n}=e;axios({method:"POST",url:`https://mktp.herokuapp.com/form/${t}`,data:n}).then(e=>(console.log(e),e)).then(e=>e.data).then(g).then(d)}()}]);
</script>
